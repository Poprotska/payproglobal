<div class="theme-doc-markdown markdown"><h1>Getting Started With Webhooks</h1><p>Integrate PayPro Global webhooks with your backend or 3rd party systems via a dedicated URL for tracking events related to your orders and transactions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-overview">Webhook Overview<a href="#webhook-overview" class="hash-link" aria-label="Direct link to Webhook Overview" title="Direct link to Webhook Overview">​</a></h2><p>A webhook is a messaging service that automatically sends you alerts for specific events regarding your transactions. These events include charges, refund, and other event types in your product order database.</p><p>Our webhooks create a connection between our backend and yours. They are simple to integrate and enable you to receive the exact transaction data and order purchasing information from PayPro Global, and respond accordingly on your end.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-usage">Webhook Usage<a href="#webhook-usage" class="hash-link" aria-label="Direct link to Webhook Usage" title="Direct link to Webhook Usage">​</a></h2><p>The PayPro Global Platform performs webhook transmissions using the <strong>POST</strong> method. We send POST requests via HTTPS to the different endpoints you have set.</p><h3>Webhook Request</h3><p>We use an <strong>HTTP 200 status code</strong> to indicate a successful request. All other response codes indicate some kind of failure. </p><p>For keygen (key generator), we expect the response to be a license in any format. Everything you return to us for this request will be delivered to the customer as the license key.</p><p>The <strong>Content-Type header</strong> of the request is <strong>application/x-www-form-urlencoded</strong>.</p><h3>Webhook Failure</h3><p>When the initial attempt to deliver the Instant Payment Notification (IPN) fails, we will retry the call to your webhook URL every 30 minutes for a maximum of 3 attempts. After the last failed attempt, we will send an email notification to the 'contact' email on record. Alternatively, you can configure a dedicated email in <strong><a href="https://cc.payproglobal.com/StoreSettings/Notifications" target="_blank" rel="noopener noreferrer">Notifications</a></strong> -&gt; Failed IPNs.</p><p>If the keygen (LicenseRequested) fails, we will do the same scheme of retries. Additionally, the system will notify you via email after each failed attempt, indicating that we were unable to deliver the license key to the customer. If your key generator is up and running again during the timeframe of retries, there is no need to send the key to the customer manually or generate it on your side. Our system will automatically request the license again and deliver it to the customer promptly.</p><h3>Webhook History</h3><p>In the dashboard, navigate to <strong>Reports -&gt; Others -&gt; <a href="https://cc.payproglobal.com/Reports/IpnReport" target="_blank" rel="noopener noreferrer">IPN</a></strong> to see the logs of all webhook events we sent, filtered by successful or failed results, product, and date. Selecting the corresponding events and clicking on the <strong>Letter icon</strong> or <strong>Bulk actions -&gt; Resend</strong> menu options, will create another attempt to deliver the webhook data to your endpoint.</p><h3>Webhooks for Multiple Product Orders</h3><p>If all of the products in an order have a dedicated webhook URL set up, the vendor will receive a webhook for each product after the order is placed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-security">Webhook Security<a href="#webhook-security" class="hash-link" aria-label="Direct link to Webhook Security" title="Direct link to Webhook Security">​</a></h2><p>To ensure you receive the webhooks that are sent by PayPro Global we offer three levels of protection:</p><ol><li>Permanent IP addresses from which we send a request:</li></ol><table class="ml-30 border-radius"><tbody><tr><td>IPv4</td><td><p>198.199.123.239</p><p class="mb-0">157.230.8.40</p></td></tr></tbody></table><table class="ml-30 border-radius"><tbody><tr><td>IPv6</td><td><p>2604:a880:400:d0::1843:7001</p><p class="mb-0">2604:a880:400:d1::b6c:c001</p></td></tr></tbody></table><ol start="2"><li><p>A hash parameter. Its value is encoded using a secret key known only between you and PayPro Global. Moreover, it can always be changed regularly.</p></li><li><p>A verification signature. Its value is SHA256 encoded using a validation key known only between you and PayPro Global. Additionally, it can be regenerated from your PayPro Global vendor account at any time.</p></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If the server you are using to host the IPN script is configured to block IP address, please make sure that you add the PayPro Global IP address to the whitelisted IPs. This is essential for the IPN service to run smoothly.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-setup">Webhook Setup<a href="#webhook-setup" class="hash-link" aria-label="Direct link to Webhook Setup" title="Direct link to Webhook Setup">​</a></h2><p>Ensure you set up a dedicated URL to which we will send the HTTP POST requests.</p><p>To set up webhooks:</p><ol><li>Navigate to <strong>Store settings -&gt; <a href="https://cc.payproglobal.com/Products" target="_blank" rel="noopener noreferrer">Product setup</a></strong> in your PayPro Global account.</li><li>Create a new product using the <strong>Add product</strong> option, or click <strong>Edit</strong> on the existing product.</li><li>Enter a URL in the <strong>1.Product</strong> in the <strong>IPN URL</strong> field. You may apply it to all products at ones.</li><li>Click the <strong>Save</strong> button to confirm your changes.</li></ol><h3>Webhook Event Setup</h3><p>Additional setup steps are required for the events of <code>LicenseRequested</code> and <code>InstantLeadNotification</code>.</p><h4>License Requested</h4><p>To enable the <code>LicenseRequested</code> event:</p><ol><li>Navigate to <strong>Store settings -&gt; <a href="https://cc.payproglobal.com/LicenseProviders" target="_blank" rel="noopener noreferrer">License management</a></strong> in your PayPro Global account.</li><li>Create a new license provider using the <strong>Add license</strong> or click the <strong>Edit</strong> button on the existing license provider. In both cases, the type should be <strong>External License Generator</strong>.</li><li>Enter a URL in the <strong>URL</strong> field.</li><li>Click the <strong>Save</strong> button to confirm your setup.</li></ol><p>After saving, you will also be able to test the keygen with the dedicated <strong>Test</strong> button.</p><h4>Instant Lead Notification</h4><p>To enable the <code>InstantLeadNotification</code> event:</p><ol><li>Navigate to <strong>Marketing -&gt; <a href="https://cc.payproglobal.com/UnclosedSales" target="_blank" rel="noopener noreferrer">Lead management</a></strong> in the PayPro Global account menu.</li><li>Create a new lead group using the <strong>Add lead group</strong> option or click <strong>Edit</strong> on the existing custom lead group.</li><li>Enter a URL in the <strong>ILN</strong> field.</li><li>Click the <strong>Save</strong> button to confirm your changes.</li></ol><p>Please contact your account manager for more details on the Instant Lead Notification (ILN).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-types">Webhook Types<a href="#webhook-types" class="hash-link" aria-label="Direct link to Webhook Types" title="Direct link to Webhook Types">​</a></h2><p>Work seamlessly with PayPro Global by integrating our webhook events.</p><p>We have broken down our webhook events into three categories:</p><ol><li>Order-related</li><li>Subscription-related</li><li>Others</li></ol><h3>Order-related</h3><table><tbody><tr><th align="center">Type id</th><th align="center">Type name</th><th align="center">Description</th></tr><tr><td align="center">1</td><td><code>OrderCharged</code></td><td>Triggered when an order has been successfully processed for a one-time fee product or for the initial order of the subscription.</td></tr><tr><td align="center">2</td><td><code>OrderRefunded</code></td><td>Triggered when an order has been fully refunded.</td></tr><tr><td align="center">3</td><td><code>OrderChargedBack</code></td><td>Triggered when we have received a chargeback for the order.</td></tr><tr><td align="center">4</td><td><code>OrderDeclined</code></td><td>Triggered when an order has been declined manually by our Risk &amp; Support Team, indicating the reason for the decline.</td></tr><tr><td align="center">5</td><td><code>OrderPartiallyRefunded</code></td><td>Triggered when an order has been partially refunded.</td></tr><tr><td align="center">14</td><td><code>OrderChargebackIsWon</code></td><td>Triggered when a dispute over the chargeback is won in our favor.</td></tr><tr><td align="center">17</td><td><code>OrderOnWaiting</code></td><td>Triggered when an order has been moved to our manual review process or a customer used a non-instant payment method, and we are waiting for the payment to process the order.</td></tr></tbody></table><h3>Subscription-related</h3><table><tbody><tr><th align="center">Type id</th><th align="center">Type name</th><th align="center">Description</th></tr><tr><td align="center">6</td><td><code>SubscriptionChargeSucceed</code></td><td>Triggered when a recurring payment (order) has been successfully processed.</td></tr><tr><td align="center">7</td><td><code>SubscriptionChargeFailed</code></td><td>Triggered when a recurring payment (order) has failed.</td></tr><tr><td align="center">8</td><td><code>SubscriptionSuspended</code></td><td>Triggered when a subscription has been suspended by the customer, vendor, or our Support Team (as per the customer's or vendor's request).</td></tr><tr><td align="center">9</td><td><code>SubscriptionRenewed</code></td><td>Triggered when a subscription has been successfully renewed either by the customer or our Support Team (per the customer's or vendor's request).</td></tr><tr><td align="center">10</td><td><code>SubscriptionTerminated</code></td><td>Triggered when a subscription has been terminated.</td></tr><tr><td align="center">11</td><td><code>SubscriptionFinished</code></td><td>Triggered when a subscription has ended.</td></tr><tr><td align="center">13</td><td><code>TrialCharge</code></td><td>Triggered when a trial order has been processed.</td></tr><tr><td align="center">21</td><td><code>SubscriptionPaymentInfoChanged</code></td><td>Triggered under two conditions:<ol><li>The customer updates his payment credit card details in the PayPro Global customer account.</li><li>The customer switches the payment method from PayPal to credit card in the PayPro Global customer account.</li></ol></td></tr></tbody></table><h3>Others</h3><table><tbody><tr><th align="center">Type id</th><th align="center">Type name</th><th align="center">Description</th></tr><tr><td align="center">12</td><td><code>LicenseRequested</code></td><td>Triggered when a request for a license key is made.</td></tr><tr><td align="center">15</td><td><code>OrderCustomerInformationChanged</code></td><td>Triggered when the customer's billing email is changed either by our Support Team (as per the customer's or vendor's request) or from the customer's control panel.</td></tr><tr><td align="center">16</td><td><code>InstantLeadNotification</code></td><td>Triggered when we have sent all of the follow-up emails from the lead management campaign.</td></tr></tbody></table><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><ul><li><p>For events such as <code>OrderRefunded</code>, <code>OrderChargeback</code>, and <code>OrderDecline</code>, you will see a parameter called <code>ACTION_REASON</code> containing the reason for a refund, chargeback, or declined transaction.</p></li><li><p>Events such as <code>OrderCustomerInformationChanged</code>, <code>InstantLeadNotification</code>, <code>OrderOnWaiting</code>, and <code>SubscriptionPaymentInfoChanged</code> are fired when you have access to the extended webhooks. For more information, please contact our team at <a href="mailto:accounts@payproglobal.com" target="_blank" rel="noopener noreferrer">accounts@payproglobal.com</a>.</p></li><li><p>The data from the <code>InstantLeadNotification</code> event is sent to a URL provided in the following section of the PayPro Global account menu: <strong>Marketing -&gt; Lead management -&gt; custom lead group -&gt; ILN</strong>.</p></li></ul></div></div><h4>Cross-reference:</h4><ol><li>For detailed information about subscription statuses, please visit the link <a href="/docs/subscriptions/suspending-terminating-subscription/#subscription-statuses">here</a>.</li><li>For detailed information about event 12. LicenseRequested, please visit the link <a href="/docs/one-time-fee-product/licensing-and-post-purchase-product-accessing-options/#external-license-generator">here</a>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-parameters">Webhook Parameters<a href="#webhook-parameters" class="hash-link" aria-label="Direct link to Webhook Parameters" title="Direct link to Webhook Parameters">​</a></h2><table class="key-break"><tbody><tr><th align="left">Key/Value</th><th align="left">Description</th></tr><tr><td>IPN_TYPE_ID</td><td><ol class="list-style-none"><li>1. OrderCharged</li><li>2. OrderRefunded</li><li>3. OrderChargedBack</li><li>4. OrderDeclined</li><li>5. OrderPartiallyRefunded</li><li>6. SubscriptionChargeSucceed</li><li>7. SubscriptionChargeFailed</li><li>8. SubscriptionSuspended</li><li>9. SubscriptionRenewed</li><li>10. SubscriptionTerminated</li><li>11. SubscriptionFinished</li><li>12. LicenseRequested</li><li>13. TrialCharge</li><li>14. OrderChargebackIsWon</li><li>15. OrderCustomerInformationChanged</li><li>16. InstantLeadNotification</li><li>17. OrderOnWaiting</li><li>21. SubscriptionPaymentInfoChanged</li></ol></td></tr><tr><td>IPN_TYPE_NAME</td><td>Text representation of IPN_TYPE_ID.</td></tr><tr><td>ORDER_ID</td><td>Integer order ID.</td></tr><tr><td>ORDER_STATUS_ID</td><td><ol><li>Waiting</li><li>Canceled</li><li>Refunded</li><li>Chargeback</li><li>Processed</li></ol></td></tr><tr><td>ORDER_STATUS</td><td>Text representation of ORDER_STATUS_ID.</td></tr><tr><td>PRODUCT_ID</td><td>Integer product ID.</td></tr><tr><td>PRODUCT_QUANTITY</td><td>Product items quantity.</td></tr><tr><td>ORDER_ITEM_ID</td><td>Integer order item (product in the order) ID.</td></tr><tr><td>ORDER_ITEM_NAME</td><td>Order item (product in the order) name.</td></tr><tr><td>ORDER_ITEM_TYPE_ID</td><td><ol><li>Product</li><li>BackupMedia</li><li>DownloadWarranty</li><li>PhysicalShipment</li><li>BundledProduct</li><li>RecurringPrice</li><li>ProductSelection</li><li>ManualProcessingFee</li></ol></td></tr><tr><td>ORDER_ITEM_TYPE_NAME</td><td>Text representation of ORDER_ITEM_TYPE_ID.</td></tr><tr><td>VENDOR_BALANCE_CURRENCY_CODE</td><td>Balance currency of a vendor account. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_TOTAL_AMOUNT</td><td>Order item price converted into the balance currency of a vendor account. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_VENDOR_AMOUNT</td><td>The order item amount transferred to the vendor balance. It can be positive or negative.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_AFFILIATE_AMOUNT</td><td>Affiliate’s share of the order item converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_PARTNERS_AMOUNT</td><td>Partner’s share of the order item converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_PAYPRO_EXPENSES_AMOUNT</td><td>PayPro Global commission for the order item converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_REFUNDED</td><td>The order item refunded amount converted into the vendor balance currency. The balance currency can be different from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_VENDOR_REFUNDED</td><td>Vendor’s share of the refunded order item amount converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_AFFILIATE_REFUNDED</td><td>Affiliate’s share of the refunded order item amount converted into the balance currency of the affiliate account. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_BALANCE_CURRENCY_PARTNERS_REFUNDED</td><td>Partner’s share of the refunded order item amount converted into the balance currency of the partner account. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_TOTAL_BALANCE_CURRENCY_AMOUNT</td><td>Total order value, including all order items and tax fees converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_BALANCE_CURRENCY_VENDOR_AMOUNT</td><td>Vendor balance amount from the order in the balance currency.</td></tr><tr><td>ORDER_TAXES_BALANCE_CURRENCY_AMOUNT</td><td>Total tax fees of all order items converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_BALANCE_CURRENCY_REFUNDED</td><td>Refunded order amount converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_BALANCE_CURRENCY_VENDOR_REFUNDED</td><td>Vendor’s share of the refunded order amount converted into the vendor balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_BALANCE_CURRENCY_AFFILIATE_REFUNDED</td><td>Affiliate’s share of the refunded order amount converted into the affiliate balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_BALANCE_CURRENCY_PARTNERS_REFUNDED</td><td>Partner’s share of the refunded order amount converted into the partner balance currency. The balance currency can differ from the currency the customer has been charged in.</td></tr><tr><td>ORDER_ITEM_LICENSES</td><td>Product license keys. If more than one license key is issued for an order item (product), they are separated with “,\t” (comma and tab).</td></tr><tr><td>PAYMENT_METHOD_ID</td><td><ul><li>1. Credit Card</li><li>2. Visa</li><li>3. MasterCard</li><li>4. American Express</li><li>5. Diners</li><li>6. Discover</li><li>7. JCB</li><li>8. Solo</li><li>9. Maestro</li><li>14. PayPal</li><li>15. Wire Transfer</li><li>16. iDEAL</li><li>17. Giropay</li><li>18. Raiffeisen</li><li>19. Volksbanken Gruppe</li><li>21. Vorarlberger HYPO</li><li>22. Bankhaus Spängler</li><li>23. Hypo Tirol Bank</li><li>24. Erste Bank und Sparkassen</li><li>25. P.S.K.</li><li>27. Sparda-Bank</li><li>30. Purchase Order</li><li>31. WebMoney</li><li>33. Boleto Bancario</li><li>34. Alipay</li><li>37. Real-time Bank Transfer</li><li>44. CarteBleue</li><li>45. Sofort</li><li>46. MrCash</li><li>47. EPS</li><li>48. UseMyFunds</li><li>49. Przelewy24</li><li>52. POLi</li><li>53. Multibanco-SIBS</li><li>55. Paysera</li><li>56. Abaqoos</li><li>57. ePlatby for eKonto</li><li>58. Trustly</li><li>59. PaysBuy</li><li>60. eNETS Debit</li><li>61. MercadoPago</li><li>62. ToditoCash</li><li>63. PayWithMyBank</li><li>65. TrustPay</li><li>66. MangirKart</li><li>67. Finnish Banks</li><li>68. MTCPay</li><li>69. DragonPay</li><li>70. MyBank</li><li>71. AmBank</li><li>72. CIMB Clicks</li><li>73. FPX</li><li>74. Hong Leong Bank Transfer</li><li>75. Maybank2U</li><li>77. XLTunai</li><li>78. Cash Options Thailand</li><li>79. Online Banking Thailand</li><li>80. PaysBuy Wallet</li><li>81. OP-Pohjola</li><li>82. Nordea</li><li>83. Danske</li><li>84. Globe GCash</li><li>86. UnionPay</li><li>89. Konbini</li><li>95. WeChat</li><li>101. Pix</li><li>102. Mach Pay</li><li>103. OXXO</li><li>104. PagoEfectivo</li></ul></td></tr><tr><td>PAYMENT_METHOD_NAME</td><td>Text representation of PAYMENT_METHOD_ID.</td></tr><tr><td>ORDER_CURRENCY_CODE</td><td>The currency in which the customer has been charged for the order.</td></tr><tr><td>ORDER_PLACED_TIME_CUSTOMER_TIMEZONE</td><td>Order placement time using the customer's time zone (taken from the customer’s browser/operating system).</td></tr><tr><td>CUSTOMER_TIMEZONE</td><td>Customer’s time zone from browser/operating system.</td></tr><tr><td>ORDER_PLACED_TIME_UTC</td><td>Order placement time in UTC.</td></tr><tr><td>ORDER_REFERRER_URL</td><td>The webpage from where the customer came to the checkout page.</td></tr><tr><td>ORDER_ITEM_SKU</td><td>The product SKU if it has been set up.</td></tr><tr><td>ORDER_ITEMS_COUNT</td><td>The total number of the order items.</td></tr><tr><td>ORDER_ITEM_UNIT_PRICE</td><td>The initial item value before any discounts were applied.</td></tr><tr><td>ORDER_ITEM_TOTAL_AMOUNT</td><td>Order item price in the order currency.</td></tr><tr><td>ORDER_ITEM_VENDOR_AMOUNT</td><td>Vendor’s share of the order item in the order currency. The funds transferred to the vendor balance are specified by ORDER_ITEM_BALANCE_CURRENCY_VENDOR_AMOUNT and VENDOR_BALANCE_CURRENCY_CODE.</td></tr><tr><td>ORDER_ITEM_AFFILIATE_AMOUNT</td><td>Affiliate’s share of the order item in the order currency.</td></tr><tr><td>ORDER_ITEM_PARTNERS_AMOUNT</td><td>Partner’s share of the order item in the order currency.</td></tr><tr><td>ORDER_ITEM_REFUNDED</td><td>Order item refunded amount.</td></tr><tr><td>ORDER_ITEM_VENDOR_REFUNDED</td><td>Vendor’s share of the order item refunded amount.</td></tr><tr><td>ORDER_ITEM_AFFILIATE_REFUNDED</td><td>Affiliate’s share of the order item refunded amount.</td></tr><tr><td>ORDER_ITEM_PARTNERS_REFUNDED</td><td>Partner’s share of the order item refunded amount.</td></tr><tr><td>ORDER_ITEM_COUPON_DISCOUNT</td><td>Discount for the order item generated by a coupon in the order billing currency chosen by the customer on the checkout page.</td></tr><tr><td>ORDER_ITEM_DYNAMIC_DISCOUNT</td><td>Discount for the order item generated by the dynamic settings in the order billing currency chosen by the customer on the checkout page.</td></tr><tr><td>ORDER_ITEM_LEAD_DISCOUNT</td><td>Discount for the order item generated by the lead management offer in the order billing currency chosen by the customer on the checkout page.</td></tr><tr><td>ORDER_ITEM_PROMO_DISCOUNT</td><td>Discount for the order item generated by cross-sell/up-sell promotions in the order billing currency chosen by the customer on the checkout page.</td></tr><tr><td>ORDER_ITEM_VOLUME_DISCOUNT</td><td>Discount for the order item generated by the volume range discount in the order billing currency chosen by the customer on the checkout page.</td></tr><tr><td>ORDER_ITEM_API_DISCOUNT</td><td>Discount for the order item generated by a dedicated API method in the order billing currency chosen by the customer on the checkout page.</td></tr><tr><td>ORDER_ITEM_TOTAL_DISCOUNT</td><td>Total order item discount in the order billing currency.</td></tr><tr><td>ORDER_TOTAL_AMOUNT</td><td>The total order value of all transactions including tax fees in the order billing currency. The result is 0 if no real transaction takes place.</td></tr><tr><td>ORDER_TOTAL_AMOUNT_SHOWN</td><td>The total order value without tax fees in the order billing currency.</td></tr><tr><td>ORDER_TOTAL_AMOUNT_WITH_TAXES_SHOWN</td><td>The total order value including tax fees in the order billing currency.</td></tr><tr><td>ORDER_TAXES_AMOUNT</td><td>The total tax amount for all order items.</td></tr><tr><td>ORDER_ITEM_TAX_NAME</td><td>Tax name of the order item. It is sent only if taxes are applied to the order. If a few tax categories are applied to the same order item, the parameter will be numbered ORDER_ITEM_TAX_NAME_1, ORDER_ITEM_TAX_NAME_2, etc.</td></tr><tr><td>ORDER_ITEM_TAX_RATE</td><td>Tax rate from the order item. It is sent only if taxes are applied to the order. If a few tax categories are applied to the same order item, the parameter will be numbered ORDER_ITEM_TAX_RATE_1, ORDER_ITEM_TAX_RATE_2, etc.</td></tr><tr><td>ORDER_REFUNDED</td><td>Refunded order amount.</td></tr><tr><td>ORDER_VENDOR_REFUNDED</td><td>Vendor’s share of the refunded order amount.</td></tr><tr><td>ORDER_AFFILIATE_REFUNDED</td><td>Affiliate’s share of the refunded order amount.</td></tr><tr><td>ORDER_PARTNERS_REFUNDED</td><td>Partner’s share of the refunded order amount.</td></tr><tr><td>ORDER_CUSTOM_FIELDS</td><td>Custom fields used in the order.</td></tr><tr><td>CUSTOMER_ID</td><td>Integer customer ID.</td></tr><tr><td>CUSTOMER_FIRST_NAME</td><td>The customer's first name.</td></tr><tr><td>CUSTOMER_FIRST_NAME_ASCII</td><td>The customer's first name converted into ASCII if you are collecting data in ASCII only.</td></tr><tr><td>CUSTOMER_LAST_NAME</td><td>The customer's last name.</td></tr><tr><td>CUSTOMER_LAST_NAME_ASCII</td><td>The customer's last name converted into ASCII if you are collecting data in ASCII only.</td></tr><tr><td>CUSTOMER_NAME</td><td>The customer's first and last name.</td></tr><tr><td>CUSTOMER_NAME_ASCII</td><td>The customer's first and last name converted into ASCII if you are collecting data in ASCII only.</td></tr><tr><td>CUSTOMER_EMAIL</td><td>The customer's email address.</td></tr><tr><td>CUSTOMER_IP</td><td>The customer's IP address.</td></tr><tr><td>CUSTOMER_COUNTRY_CODE</td><td>The customer's country specified on the checkout page.</td></tr><tr><td>CUSTOMER_COUNTRY_NAME</td><td>The customer's country name chosen on the checkout page.</td></tr><tr><td>CUSTOMER_COUNTRY_CODE_BY_IP</td><td>The customer's country name detected by the customer's IP address if the detection process succeeds.</td></tr><tr><td>CUSTOMER_COUNTRY_NAME_BY_IP</td><td>The customer's country name detected by the customer's IP address if the detection process succeeds.</td></tr><tr><td>CUSTOMER_STATE_CODE</td><td>The customer's state code, if applicable.</td></tr><tr><td>CUSTOMER_STATE_NAME</td><td>The customer's state name, if applicable.</td></tr><tr><td>CUSTOMER_CITY</td><td>The customer's city.</td></tr><tr><td>CUSTOMER_STREET_ADDRESS</td><td>The customer's street address.</td></tr><tr><td>CUSTOMER_STREET_NUMBER</td><td>The customer's street number. This field is only available if the chosen billing country is Mexico, Brazil, Chile.</td></tr><tr><td>CUSTOMER_ZIPCODE</td><td>The customer's ZIP/postal code.</td></tr><tr><td>CUSTOMER_PHONE</td><td>The customer's phone number.</td></tr><tr><td>CUSTOMER_FISCAL_NUMBER_PERSONAL</td><td>The customer's personal fiscal number. Available if the billing country is Brazil.</td></tr><tr><td>CUSTOMER_FISCAL_NUMBER_CORPORATE</td><td>The customer's corporate fiscal number. Available if the billing country is Brazil.</td></tr><tr><td>CORPORATE_PURCHASE</td><td>Allowed values are True or False.</td></tr><tr><td>COMPANY_NAME</td><td>The company name, if provided.</td></tr><tr><td>LICENSED_TO_NAME</td><td>The licensee's name if the license was sent to another person.</td></tr><tr><td>LICENSED_TO_NAME_ASCII</td><td>The licensee's name converted into ASCII if you collect data in ASCII only, and the license was sent to another person.</td></tr><tr><td>LICENSED_TO_EMAIL</td><td>The licensee's email address if the license was sent to another person.</td></tr><tr><td>ACTION_REASON</td><td>The action reason, if available, in case of decline, refund, chargeback, or subscription cancellation.</td></tr><tr><td>AFFILIATE_AGREEMENT_ID</td><td>The integer affiliate agreement ID if the order item has an affiliate commission.</td></tr><tr><td>AFFILIATE_NETWORK_ID</td><td>The integer affiliate network ID if the order item has an affiliate commission.</td></tr><tr><td>AFFILIATE_VENDOR_ACCOUNT_ID</td><td>The integer affiliate vendor account ID if the order item has an affiliate commission.</td></tr><tr><td>COUPON_CODE</td><td>The coupon code used in the order. </td></tr><tr><td>COUPON_ID</td><td>The coupon ID if a coupon has been applied.</td></tr><tr><td>COUPON_NAME</td><td>The used coupon name if a coupon has been applied.</td></tr><tr><td>CREDIT_CARD_BIN</td><td>The bank identification number (BIN).</td></tr><tr><td>CREDIT_CARD_BIN_RESULT</td><td>The bank branch information.</td></tr><tr><td>CREDIT_CARD_LAST4</td><td>The last 4 digits of the credit card used by the customer during the payment process.</td></tr><tr><td>CREDIT_CARD_EXPIRATION_DATE</td><td>The credit card expiration date if paid using a credit card.</td></tr><tr><td>MAXMIND_RESULT</td><td>The <a href="https://www.maxmind.com/" target="_blank" rel="noopener noreferrer">MaxMind</a> result.</td></tr><tr><td>CUSTOM_LICENSE_INFO</td><td>The custom license information specified in the external license generator pool in case of a LicenseRequested IPN type.</td></tr><tr><td>HASH</td><td><p>The IPN verification signature hash is MD5(“1”) for test orders or MD5 (OrderId+SecretKey) in case of real orders. Example: MD5(456346wErt6HmQ). The secret key can be specified in Store Settings –&gt; General settings -&gt; <a href="https://cc.payproglobal.com/StoreSettings/Integration" target="_blank" rel="noopener noreferrer">Integration</a> tab in the PayPro Global Control Panel.</p><p>The IPN hash computes in the following manner:</p><ul><li>For test orders, it's always MD5("1") where MD5("1") = "c4ca4238a0b923820dcc509a6f75849b".</li><li>For real orders, it's MD5 of the concatenated order ID and secret key where MD5("456346wErt6HmQ") = "cdcca12c15a93df32818e463af053fbc."</li></ul></td></tr><tr><td>SIGNATURE</td><td><p>The IPN verification signature hash is SHA256({ORDER_ID} {ORDER_STATUS} {ORDER_TOTAL_AMOUNT} {CUSTOMER_EMAIL}  {VALIDATION_KEY} {TEST_MODE} {IPN_TYPE_NAME}).</p><p>Example: <br> sha256(“12345Processed9.99123qwerty1OrderCharged”). The validation key can be specified in Store Settings –&gt; General settings -&gt; <a href="https://cc.payproglobal.com/StoreSettings/Integration" target="_blank" rel="noopener noreferrer">Integration</a> tab in the PayPro Global Control Panel.</p></td></tr><tr><td>PAYPAL_ACCOUNT</td><td>The customer's PayPal account if used.</td></tr><tr><td>SHIPPING_COUNTRY_CODE</td><td>The code of the country where the product should be delivered to.</td></tr><tr><td>SHIPPING_COUNTRY_NAME</td><td>The name of the country where the product should be delivered to.</td></tr><tr><td>SHIPPING_STATE_CODE</td><td>The state code (if applicable) where the product should be delivered to.</td></tr><tr><td>SHIPPING_STATE_NAME</td><td>The state name (if applicable) where the product should be delivered to.</td></tr><tr><td>SHIPPING_CITY</td><td>The name of the city where the product should be delivered to.</td></tr><tr><td>SHIPPING_FIRST_NAME</td><td>The first name of the recipient.</td></tr><tr><td>SHIPPING_FIRST_NAME_ASCII</td><td>The first name of the recipient converted into ASCII.</td></tr><tr><td>SHIPPING_LAST_NAME</td><td>The last name of the recipient.</td></tr><tr><td>SHIPPING_LAST_NAME_ASCII</td><td>The last name of the recipient converted into ASCII.</td></tr><tr><td>SHIPPING_STREET_ADDRESS</td><td>The street address of where the product should be delivered to.</td></tr><tr><td>SHIPPING_ZIPCODE</td><td>The ZIP or postal code of where the product should be delivered to.</td></tr><tr><td>SUBSCRIPTION_ID</td><td>Integer subscription ID.</td></tr><tr><td>SUBSCRIPTION_NEXT_CHARGE_DATE</td><td>Subscription next charge date.</td></tr><tr><td>SUBSCRIPTION_NEXT_CHARGE_AMOUNT</td><td>The reference next charge amount or the billing next charge amount depends on the product pricing configuration.</td></tr><tr><td>SUBSCRIPTION_NEXT_CHARGE_CURRENCY_CODE</td><td>The reference currency code or the billing currency code depends on the product pricing configuration.</td></tr><tr><td>SUBSCRIPTION_NEXT_CHARGE_CURRENCY</td><td class="word-break"><p>Allowed values are 0 or 1.</p><ul><li>0 - SUBSCRIPTION_NEXT_CHARGE_CURRENCY_CODE is billing currency code</li><li>1 - SUBSCRIPTION_NEXT_CHARGE_CURRENCY_CODE is reference currency code</li></ul></td></tr><tr><td>SUBSCRIPTION_STATUS_ID</td><td><ol><li>Active</li><li>Suspended</li><li>Terminated</li><li>Finished</li></ol></td></tr><tr><td>SUBSCRIPTION_STATUS_NAME</td><td>Text representation of SUBSCRIPTION_STATUS_ID.</td></tr><tr><td>SUBSCRIPTION_INITIAL_ORDER_ID</td><td>The order ID number for the subscription initial charge.</td></tr><tr><td>SUBSCRIPTION_RENEWAL_TYPE</td><td>The subscription renewal type. Allowed values are Manual or Auto.</td></tr><tr><td>SUBSCRIPTION_NUMBER_OF_BILLING_CYCLES</td><td>The billing cycle the customer is currently on.</td></tr><tr><td>SUBSCRIPTION_NUMBER_OF_FAILED_ATTEMPTS</td><td>The number of failed attempts to charge a subscription.</td></tr><tr><td>SUBSCRIPTION_CANCELLATION_REASON_ID</td><td><ul><li>1 - The price is too high</li><li>2 - I no longer need this product</li><li>3 - I am not satisfied with the product</li><li>4 - I switched to another product</li><li>5 - It isn’t a priority right now</li><li>6 - I subscribed by mistake</li><li>7 - Other reason</li><li>8 - I am switching to another subscription plan</li></ul></td></tr><tr><td>SUBSCRIPTION_FINISH_DATE</td><td>The subscription expiration date. It is sent only in IPN type 11. SubscriptionFinished.</td></tr><tr><td>IS_ON_TRIAL_PERIOD</td><td>Allowed values are 0 or 1. The value is 1 if a product has a trial period, 0 otherwise.</td></tr><tr><td>TRIAL_PERIOD_TILL</td><td>The trial period end date if the product has a trial period.</td></tr><tr><td>OPTION_GROUP_IDS</td><td>List of group IDs from the combination items if the product has the multiple options pricing variations enabled.</td></tr><tr><td>OPTION_GROUP_ITEM_IDS</td><td>List of group item IDs from the combination items if the product has the multiple options pricing variations enabled.</td></tr><tr><td>PRODUCT_COMBINATION_ID</td><td>The combination value ID of the combination group item if the product has the multiple options pricing variations enabled.</td></tr><tr><td>PRODUCT_COMBINATION_NAME</td><td>The combination value name of the combination group item if the product has the multiple options pricing variations enabled.</td></tr><tr><td>SELECTION_GROUP_ITEM_IDS</td><td>The list of group item IDs for the product selection if the product has the multiple options pricing variations enabled.</td></tr><tr><td>SELECTION_GROUP_ITEM_NAMES</td><td>The list of group item names for the product selection if the product has the multiple options pricing variations enabled.</td></tr><tr><td>CUSTOMER_LANGUAGE_CODE</td><td>The language selected by a customer during the purchase.</td></tr><tr><td>REGIONAL_PRICE</td><td>Allowed values are True or False.</td></tr><tr><td>INVOICE_LINK</td><td>The invoice URL.</td></tr><tr><td>BUNDLED_ITEMS_COUNT</td><td>Bundled product count.</td></tr><tr><td>REFUND_ISSUED_BY</td><td><p>Allowed values are PayPro Global or Vendor. It is sent only in IPN types:</p><ul><li>2. OrderRefunded </li><li>5. OrderPartiallyRefunded.</li></ul></td></tr><tr><td>TEST_MODE</td><td>Allowed values are 1 or 0.</td></tr><tr><td>CROSS_SELL_MAIN_ITEM_ID</td><td>Order item ID of a product that was sold in a cross-sell offer.</td></tr><tr><td>CROSS_SELL_ITEM_IDS</td><td>Order item IDs of the products that were sold in a cross-sell offer.</td></tr><tr><td>IS_CROSS_SELL_ITEM</td><td>Allowed values are True or False. If True, then the item was sold in a cross-sell offer.</td></tr><tr><td>CHECKOUT_QUERY_STRING</td><td>Checkout query string.</td></tr><tr><td>IS_RESENT</td><td>Allowed value is 1. It is passed only if webhook/IPN request is resent.</td></tr><tr><td>LEAD_TYPE_ID</td><td><p>Lead type ID. Allowed values 1 or 2.</p><ul><li>1 - Unfinished orders type. </li><li>2 - Abandoned orders type.</li></ul><p> It is sent only in IPN type 16. InstantLeadNotification.</p></td></tr><tr><td>LEAD_TYPE_NAME</td><td>Lead type name. It is sent only in IPN type 16. InstantLeadNotification.</td></tr><tr><td>LEAD_CAMPAIGN_ID</td><td>Lead campaign ID. It is sent only in IPN type 16. InstantLeadNotification.</td></tr><tr><td>LEAD_FOLLOW_UP_ID</td><td>Lead follow up ID. It is sent only in IPN type 16. InstantLeadNotification.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-testing">Webhook Testing<a href="#webhook-testing" class="hash-link" aria-label="Direct link to Webhook Testing" title="Direct link to Webhook Testing">​</a></h2><p>Test out your webhook configuration before going live.</p><p>We provide 2 options to test webhooks:</p><ol><li>IPN simulator</li><li>A test order</li></ol><h3>IPN simulator</h3><p>To open the simulator, please log into your PayPro Global account, and go to <strong>Developer tool -&gt; <a href="https://cc.payproglobal.com/Tools/SimulateIpn" target="_blank" rel="noopener noreferrer">IPN simulator</a></strong>. This tool instantly sends extensive purchase details directly to the URL you provided and allows you to check if your server has received the webhooks in real-time.</p><p>To generate a webhook event, you need to fill in the following information:</p><ul><li><p>IPN handler URL – add your IPN/webhook server’s URL to ensure the communication between PayPro Global’s notification system and your database;</p></li><li><p>Transaction type – select the transaction for which you wish to receive our instant notifications from the dropdown list available there.</p></li></ul><p>Please note that we have already filled out all the necessary and frequently used fields in the internal statistics with our standard values to free the vendor from constantly filling them out during each test.  </p><h3>A test order</h3><p>You can also <strong>test</strong> webhooks by <strong>placing a test order</strong>. To enable a test mode, add the following URL parameters <code>&amp;use-test-mode=true&amp;secret-key=SECRETKEY</code>. The latter is your unique key which can be found in <strong>Store settings -&gt; General settings -&gt; <a href="https://cc.payproglobal.com/StoreSettings/Integration" target="_blank" rel="noopener noreferrer">Integration</a></strong> tab.</p><p>Please note that all transaction-related parameters will have a 0 value for test orders.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webhook-type-licenserequested">Webhook Type: LicenseRequested<a href="#webhook-type-licenserequested" class="hash-link" aria-label="Direct link to Webhook Type: LicenseRequested" title="Direct link to Webhook Type: LicenseRequested">​</a></h2><p>The webhook type of LicenseRequested is an excellent option if:</p><ul><li>the activation of your products requires a license code</li><li>you're hosting a license generator on your end and want to return a code in real-time mode when the order is processed</li></ul><p>We use the webhook functionality to dynamically receive your license code and pass it to the customer.</p><p>To set up the external license generator:</p><ol><li>Navigate to <strong>Store settings -&gt; <a href="https://cc.payproglobal.com/LicenseProviders" target="_blank" rel="noopener noreferrer">License management</a></strong> in your PayPro Global account.</li><li>Create a new license provider using the <strong>Add license</strong> option and choose <strong>type: External License Generator</strong>.</li><li>Enter a webhook URL in the <strong>URL</strong> field.</li><li>Click the <strong>Save</strong> button to confirm your setup.</li></ol><p>When this process has been completed, we will send you a webhook request:</p><p><code>IPN_TYPE_ID=12</code></p><p><code>IPN_TYPE_NAME=LicenseRequested</code></p><p>In response to our request, your server must send a license key. This generates the license code for the product every time the purchase is successfully completed.</p><p>We provide this license key to your customers via the thank you page and in the purchase confirmation email. Our system considers any response from your server as a license key, but it is better if you return the license key as plain text.   </p><p>You can add <strong>Custom license Info</strong> which we will send you in the request via the value <code>CUSTOM_LICENSE_INFO</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="separate-webhook-endpoints">Separate Webhook Endpoints<a href="#separate-webhook-endpoints" class="hash-link" aria-label="Direct link to Separate Webhook Endpoints" title="Direct link to Separate Webhook Endpoints">​</a></h2><p>Receive webhook notifications to various production environments with PayPro Global.</p><p>If you have several production environments and you need to configure a webhook URL for every environment, you can pass the IPN domain via a dedicated URL parameter to the checkout page.</p><p>Navigate to <strong>Store Settings -&gt; General Settings -&gt; <a href="https://cc.payproglobal.com/StoreSettings/Integration" target="_blank" rel="noopener noreferrer">Integration</a></strong> and in <strong>IPN URLs</strong> section enter a single IPN domain per line. For example: <code>https://some.domain/ipn?p=1</code>.</p><p>After this, you need to use an actual domain as the URL parameter <code>&amp;ipn-domain=ipn.example.com</code> on the checkout page to get a post-purchase alert to appear. The value of the <code>ipn-domain</code> is a filter for the IPN URLs list.
If you want to <strong>invalidate</strong> the <strong>checkout process without</strong> <code>ipn-domain</code> checkout URL parameter, then contact your account manager (<a href="mailto:accounts@payproglobal.com" target="_blank" rel="noopener noreferrer">accounts@payproglobal.com</a>) to enable this option for your account.</p></div>
